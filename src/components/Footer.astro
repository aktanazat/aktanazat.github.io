---
import { COPYRIGHT, ICP_NUMBER, SOCIAL_LINKS } from "../consts";
import icons, { getSizedIcon } from "../assets/icons";
---

<footer>
  <br />
  <small
    >{COPYRIGHT && `${COPYRIGHT}`}
    {COPYRIGHT && ICP_NUMBER && "ï½œ"}
    {
      ICP_NUMBER && (
        <a href="https://beian.miit.gov.cn/" target="_blank">
          {ICP_NUMBER}
        </a>
      )
    }
  </small>
  <br />
  <div class="social-links" role="navigation" aria-label="social links">
    {
      Object.entries(SOCIAL_LINKS).map(([key, value]) => {
        if (!value) return null;
        return (
          <a
            href={value}
            rel="noopener noreferrer"
            target="_blank"
            aria-label={`Link to ${key}`}
            title={`Link to ${key}`}
          >
            <Fragment
              set:html={getSizedIcon(key as keyof typeof icons, 16.5)}
            />
          </a>
        );
      })
    }
  </div>
</footer>

<style>
  footer { /* Added to ensure footer styles are scoped if not already */
    /* Footer styles from global.css are already applied, so specific overrides or additions go here if needed */
  }
  .social-links {
    margin-top: 0.5rem; /* Adjusted margin */
    display: flex; /* Enable flex for alignment */
    justify-content: center; /* Center icons */
    gap: 1rem; /* Space out icons */

    a {
      color: var(--text-color); /* Use text-color for default icon color */
      text-decoration: none;
      display: inline-block; /* Helps with hover effect */
      transition: color 0.2s ease-in-out, transform 0.2s ease-in-out; /* Smooth transitions */
    }
    a:hover {
      color: var(--link-color);
      transform: translateY(-2px); /* Subtle lift on hover */
    }
  }
</style>
